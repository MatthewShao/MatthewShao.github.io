<!doctype html>



  



    
  

<html class="theme-next logos use-motion" lang="zh-hk">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.useso.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta name="description" content="æ¯æ¬¡é€ƒç¦»éƒ½åŒ…å«æŸäº›è‰ºæœ¯æŸäº›è™šå¼ å£°åŠ¿ã€Šèƒ¡è¿ªå°¼ã€‹â€”â€” Kay Ryan  ç»ˆäºæŠŠä¸€æ‹–å†æ‹–çš„Virtual Machine Escape ç ”ç©¶è®¡åˆ’æä¸Šäº†å››æœˆæ—¥ç¨‹ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="VirtualBox Exploitation #1">
<meta property="og:url" content="http://matshao.com/2019/04/11/VirtualBox-Exploitation-1/index.html">
<meta property="og:site_name" content="Mid Station">
<meta property="og:description" content="æ¯æ¬¡é€ƒç¦»éƒ½åŒ…å«æŸäº›è‰ºæœ¯æŸäº›è™šå¼ å£°åŠ¿ã€Šèƒ¡è¿ªå°¼ã€‹â€”â€” Kay Ryan  ç»ˆäºæŠŠä¸€æ‹–å†æ‹–çš„Virtual Machine Escape ç ”ç©¶è®¡åˆ’æä¸Šäº†å››æœˆæ—¥ç¨‹ã€‚">
<meta property="og:locale" content="zh-hk">
<meta property="og:image" content="https://i.loli.net/2019/04/11/5caeb27dbc3d5.png">
<meta property="og:image" content="https://i.loli.net/2019/04/11/5caebbc7c12fe.png">
<meta property="og:image" content="https://i.loli.net/2019/04/11/5caf0af2402c6.png">
<meta property="og:updated_time" content="2019-04-11T16:00:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VirtualBox Exploitation #1">
<meta name="twitter:description" content="æ¯æ¬¡é€ƒç¦»éƒ½åŒ…å«æŸäº›è‰ºæœ¯æŸäº›è™šå¼ å£°åŠ¿ã€Šèƒ¡è¿ªå°¼ã€‹â€”â€” Kay Ryan  ç»ˆäºæŠŠä¸€æ‹–å†æ‹–çš„Virtual Machine Escape ç ”ç©¶è®¡åˆ’æä¸Šäº†å››æœˆæ—¥ç¨‹ã€‚">
<meta name="twitter:image" content="https://i.loli.net/2019/04/11/5caeb27dbc3d5.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Logos',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://matshao.com/2019/04/11/VirtualBox-Exploitation-1/">





  <title> VirtualBox Exploitation #1 | Mid Station </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-hk">

  





<script>
  	var _mtac = {};
  	(function() {
  		var mta = document.createElement("script");
  		mta.src = "http://pingjs.qq.com/h5/stats.js?v2.0.4";
  		mta.setAttribute("name", "MTAH5");
  		mta.setAttribute("sid", "500688563");
  		var s = document.getElementsByTagName("script")[0];
  		s.parentNode.insertBefore(mta, s);
  	})();
</script>





  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="header-logos"> 
      <div class="site-meta ">
  
    <div class="site-meta-headline">
      <a href="/">
        <img class="custom-logo-image" src="/images/logo_light.png" alt="Mid Station">
      </a>
    </div>
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Mid Station</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é 
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            æ­¸æª”
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            é—œæ–¼
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 
            
      </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://matshao.com/2019/04/11/VirtualBox-Exploitation-1/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Matthew Shao">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Mid Station">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Mid Station" src="/images/logo_light.png">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                VirtualBox Exploitation #1
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-11T23:47:07+08:00">
                2019-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†é¡æ–¼</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hack/" itemprop="url" rel="index">
                    <span itemprop="name">Hack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>æ¯æ¬¡é€ƒç¦»<br>éƒ½åŒ…å«æŸäº›è‰ºæœ¯<br>æŸäº›è™šå¼ å£°åŠ¿<br>ã€Šèƒ¡è¿ªå°¼ã€‹â€”â€” <em>Kay Ryan</em></p>
</blockquote>
<p>ç»ˆäºæŠŠä¸€æ‹–å†æ‹–çš„Virtual Machine Escape ç ”ç©¶è®¡åˆ’æä¸Šäº†å››æœˆæ—¥ç¨‹ã€‚</p>
<a id="more"></a>
<h2 id="Hardware-amp-Environment"><a href="#Hardware-amp-Environment" class="headerlink" title="Hardware &amp; Environment"></a>Hardware &amp; Environment</h2><p>é¦–å…ˆæ˜¯æ‰«æ¸…äº†ç¡¬ä»¶è®¾å¤‡ä¸Šé¢çš„éšœç¢ï¼šè¶å›ºæ€ç¡¬ç›˜ä»·æ ¼æš´è·Œçš„æœºä¼šç»™ç”µè„‘åŠ äº†ä¸€æ¡NVMeçš„500GBå›ºæ€ã€‚è£…ä¸Šäº†ä¹…è¿çš„WIndowsç³»ç»Ÿï¼ŒæŠŠåŸæ¥çš„Ubuntuä¹¾å¤å¤§æŒªç§»åŸæ ·æ¬åˆ°äº†Win10çš„Vmware Workstationè™šæ‹Ÿæœºé‡Œé¢ã€‚ä¹‹å‰çš„ç¯å¢ƒä¸€ç›´æ˜¯åŸç”ŸUbuntué‡Œé¢è£…Win10çš„è™šæ‹Ÿæœºï¼Œç°åœ¨å®Œå…¨åè¿‡æ¥äº†ã€‚è°ƒæ•´çš„åŸå› æ˜¯Linuxç‰ˆæœ¬çš„Vmware Workstationå…¶å®æ€§èƒ½è¡¨ç°ä¸å¦‚Windowsç‰ˆæœ¬çš„ï¼Œå†…å­˜æœ€å¤šå¼€åˆ°2GBï¼Œä¸€æ—¦è¶…è¿‡2GBå°±ä¼šé—´æ­‡æ€§å‡æ­»ï¼ŒIOæ€§èƒ½ä¹Ÿç›¸å½“ä¸ç†æƒ³ã€‚é‡è£…ç³»ç»Ÿç¯å¢ƒä»¥åï¼Œå¾—ç›ŠäºSSDé€Ÿåº¦ä¸Šçš„æå‡ï¼ŒIOæ€§èƒ½å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œå³ä½¿åŒå¼€ç”šè‡³ä¸‰å¼€è™šæ‹Ÿæœºéƒ½ä¸åœ¨è¯ä¸‹ã€‚å¦ä¸€æ–¹é¢ï¼Œå‰å¹´é…çš„é”é¾™ä¸€ä¸ƒé›¶é›¶å…«æ ¸åå…­çº¿ç¨‹åŠ åå…­å‰æ ¼æ¯”ç‰¹å†…å­˜çš„é…ç½®ç»ˆäºæ´¾ä¸Šäº†ç”¨åœºï¼Œèµ„æºçš„åˆ©ç”¨ç‡å¾—åˆ°äº†å¤§å¹…æé«˜ã€‚æ€»ç»“æ•™è®­å°±æ˜¯ä¸‹æ¬¡æ­å»ºå·¥ä½œç¯å¢ƒçš„æ—¶å€™ç›´æ¥è£…Win10ç³»ç»Ÿï¼ŒWindowsç³»ç»Ÿè¿™ä¸¤å¹´çš„è¿›æ­¥çœŸçš„æŒºå¤§çš„ï¼›Linuxå¯ä»¥è£…åˆ°Hyper-Væˆ–è€…Vmware Workstationä¸‹é¢ï¼Œç›®å‰æ¥è¯´åº”è¯¥è¿˜æ˜¯Vmware Workstationæ¯”è¾ƒæ–¹ä¾¿ï¼Œç§»æ¤åˆ°Windowsæˆ–è€…Linuxçš„å®¿ä¸»æœºä¹Ÿéƒ½åªæ˜¯å¤åˆ¶ç²˜è´´çš„äº‹æƒ…ã€‚</p>
<p>è¨€å½’æ­£ä¼ ï¼ŒåŸæœ¬è®¡åˆ’ç›´æ¥å‘Hyper-Vä¸‹æ‰‹ï¼Œåæ¥å‘è§‰ä¼¼ä¹æœ‰ç‚¹ä¸€æ­¥ç™»å¤©äº†ï¼Œç›®å‰èƒ½æ‰¾åˆ°çš„ç›¸å…³ç ”ç©¶å·¥ä½œè¿˜æ˜¯æ¯”è¾ƒåŒ®ä¹ï¼ŒåŠ ä¸Šé€†å‘å°±éœ€è¦è€—è´¹å¤§é‡çš„æ—¶é—´ï¼Œå³ä½¿æ­å»ºå¥½äº†è°ƒè¯•ç¯å¢ƒä¹Ÿè¿˜æ˜¯æœ‰ç§æ— ä»ä¸‹æ‰‹çš„æ„Ÿè§‰ï¼Œåªèƒ½è¯´è‡ªå·±è¿˜æ˜¯æ®µä½ä¸å¤Ÿå§ã€‚åæ¥æŠŠç›®å…‰è½¬å‘äº†å¼€æºçš„Virtualboxï¼Œç›¸æ¯”èµ·æ¥å…¥é—¨çš„èµ„æºå°±ä¸°å¯Œäº†ä¸å°‘ï¼Œå…ˆæ˜¯æ‰¾åˆ°äº†æ¥è‡ªé•¿äº­çš„35c3çš„0dayç¥ä»™é¢˜Writeupï¼š<a href="https://zhuanlan.zhihu.com/p/58910752" target="_blank" rel="noopener">48å°æ—¶é€ƒé€¸Virtualboxè™šæ‹Ÿæœºâ€”â€”è®°ä¸€æ¬¡CTFä¸­çš„0dayä¹‹æ—…</a>ï¼Œå†æœ‰YouTubeä¸Šé¢<a href="https://www.youtube.com/watch?v=Fis2jal3Wg0&list=PLfERMgzlCp0DFGA5eRiWBCtKYA9bI3AVT" target="_blank" rel="noopener">Murmus CTFçš„ç›´æ’­å½•åƒ</a>ï¼ˆå°½ç®¡ç”¨1.5å€é€Ÿçœ‹å®Œå››é›†ä»¥åå‘ç°ä»å¤´åˆ°å°¾åŸºæœ¬éƒ½åœ¨æ­ç¯å¢ƒï¼‰ã€‚å¯è§æ­å»ºè°ƒè¯•ç¯å¢ƒåœ¨æ¼æ´ç ”ç©¶å½“ä¸­æ˜¯å¿…ä¸å¯å°‘è€Œåˆæ¶ˆè€—ç²¾åŠ›çš„æ­¥éª¤ï¼Œä¸‹é¢å°±è®²ä¸€è®²åœ¨æ­å»º35c3-chromacityè¿™é“Virtualboxé€ƒé€¸çš„0dayé¢˜ç›®çš„æ›²æŠ˜ç»è¿‡ã€‚</p>
<h2 id="Nested-VM"><a href="#Nested-VM" class="headerlink" title="Nested VM"></a>Nested VM</h2><p>é¢˜ç›®ç»™çš„æ˜¯ä¸€ä¸ªQemuçš„imgæ–‡ä»¶ï¼Œé‡Œé¢å®‰è£…äº†Xubuntuç³»ç»Ÿï¼Œå¸¦æœ‰5.2.22ç‰ˆæœ¬çš„Virtualboxã€‚Virtualboxé‡Œé¢åˆæ˜¯ä¸€ä¸ªLubuntuç³»ç»Ÿï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯åˆ©ç”¨Virtualboxçš„æ¼æ´ä»è™šæ‹Ÿæœºä¸­çš„Xubuntué€ƒé€¸åˆ°Qemuçš„Xubuntuå½“ä¸­ã€‚ç»“åˆå¼€å¤´æåˆ°çš„ç³»ç»Ÿç¯å¢ƒï¼Œé¢˜ç›®æˆåŠŸè¿è¡Œåçš„ç³»ç»Ÿå±‚çº§å¦‚ä¸‹å›¾å·¦è¾¹æ‰€ç¤ºï¼Œæ¶‰åŠä¸‰ç§ä¸åŒçš„è™šæ‹Ÿæœºå’Œå››ä¸ªæ“ä½œç³»ç»Ÿã€‚åæ¥æˆ‘åˆå°†é¢˜ç›®æä¾›çš„qcow2 imgæ–‡ä»¶é€šè¿‡<code>qemu-img</code>è½¬æ¢ä¸ºvmdkæ ¼å¼ï¼Œè¿™æ ·å°±çœæ‰äº†ä¸­é—´Ubuntuä¸Šè·‘Qemuçš„è™šæ‹Ÿå±‚ï¼Œå˜æˆä¸‹å›¾å³è¾¹çš„ç³»ç»Ÿå±‚çº§ã€‚åœ¨è¿™ç§è™šæ‹Ÿæœºå¤šé‡åµŒå¥—çš„æƒ…å†µä¸‹å°±æ˜¾ç¤ºå‡ºIntel VTå’ŒAMD SVMè™šæ‹ŸåŒ–çš„ä¼˜åŠ¿äº†ï¼Œå¼€å¯è™šæ‹ŸåŒ–æŠ€æœ¯ä»¥åå³ä½¿å¤šé‡åµŒå¥—ï¼Œå†…éƒ¨è™šæ‹Ÿæœºçš„æŒ‡ä»¤ä»å¯ä»¥ç›´æ¥åœ¨CPUä¸Šé¢è¿è¡Œï¼Œè¾¾åˆ°æ¥è¿‘ç‰©ç†æœºçš„æ•ˆç‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+--------------------------Win10----------------------+</span><br><span class="line">|                                                     |</span><br><span class="line">|                                                     |</span><br><span class="line">|                                                     |</span><br><span class="line">|    +--------------Vmware-Workstations---------+     |           +--------------------Win10-----------------+</span><br><span class="line">|    |                Ubuntu 16.04              |     |           |                                          |</span><br><span class="line">|    |                                          |     |           |                                          |</span><br><span class="line">|    |    +------------Qemu-kvm-------------+   |     |           |    +---------Vmware Workstations-----+   |</span><br><span class="line">|    |    |                                 |   |     |           |    |                                 |   |</span><br><span class="line">|    |    |             Xubuntu             |   |     |           |    |             Xubuntu             |   |</span><br><span class="line">|    |    |                                 |   |     |           |    |                                 |   |</span><br><span class="line">|    |    |      +-----Virtualbox-----+     |   |     |           |    |      +-----Virtualbox-----+     |   |</span><br><span class="line">|    |    |      |                    |     |   |     |           |    |      |                    |     |   |</span><br><span class="line">|    |    |      |                    |     |   |     |           |    |      |                    |     |   |</span><br><span class="line">|    |    |      |      Xubuntu       |     |   |     |           |    |      |      Xubuntu       |     |   |</span><br><span class="line">|    |    |      |         ++         |     |   |     |  +----&gt;   |    |      |         ++         |     |   |</span><br><span class="line">|    |    |      |         ||         |     |   |     |           |    |      |         ||         |     |   |</span><br><span class="line">|    |    |      +---------||---------+     |   |     |           |    |      +---------||---------+     |   |</span><br><span class="line">|    |    |                vv               |   |     |           |    |                vv               |   |</span><br><span class="line">|    |    |          escape to here         |   |     |           |    |          escape to here         |   |</span><br><span class="line">|    |    +---------------------------------+   |     |           |    +---------------------------------+   |</span><br><span class="line">|    |                                          |     |           |                                          |</span><br><span class="line">|    |                                          |     |           |                                          |</span><br><span class="line">|    +------------------------------------------+     |           +------------------------------------------+</span><br><span class="line">|                                                     |</span><br><span class="line">|                                                     |</span><br><span class="line">|                                                     |</span><br><span class="line">+-----------------------------------------------------+</span><br></pre></td></tr></table></figure>

<h2 id="Building-VIrtualbox-with-Debug-Symbols"><a href="#Building-VIrtualbox-with-Debug-Symbols" class="headerlink" title="Building VIrtualbox with Debug Symbols"></a>Building VIrtualbox with Debug Symbols</h2><p>ç„¶è€Œåœ¨æ¯”èµ›æä¾›çš„é•œåƒä¸Šè¿˜æ˜¯æ²¡åŠæ³•è¿›è¡Œè°ƒè¯•ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦æ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ªå¸¦debug symbolsçš„Virtualboxã€‚<br>é¦–å…ˆå¯ä»¥åœ¨å®˜ç½‘é¡µé¢<a href="https://www.virtualbox.org/wiki/Download_Old_Builds_5_2" target="_blank" rel="noopener">Download VirtualBox (Old Builds): VirtualBox5.2</a>ä¸­ä¸‹è½½åˆ°5.22ç‰ˆæœ¬çš„æºç ï¼Œç„¶åå¯ä»¥å‚ç…§<a href="https://www.virtualbox.org/wiki/Linux%20build%20instructions" target="_blank" rel="noopener">Linux build instruction</a>ä¸­çš„è¯´æ˜å®‰è£…ä¾èµ–å¹¶è¿›è¡Œç¼–è¯‘ã€‚</p>
<h3 id="â€œlibhal-devâ€-Not-Found"><a href="#â€œlibhal-devâ€-Not-Found" class="headerlink" title="â€œlibhal-devâ€ Not Found"></a>â€œlibhal-devâ€ Not Found</h3><p>é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯<code>libhal-dev</code>ä¾èµ–ä¸æ»¡è¶³ï¼Œæœç´¢åå‘ç°è¯¥ä¾èµ–å·²ç»ä»è½¯ä»¶ä»“åº“ä¸­è¢«ç§»é™¤ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ å¦å¤–çš„æºï¼š</p>
<blockquote>
<ul>
<li><em>libhal-dev</em>: this package is no longer available in the Ubuntu<br>repositories. It used to be replaced by some other package, but this is<br>not the case anymore.<br>  The only viable solution (to the best of my knowledge) is to add a<br>private repository, named </li>
</ul>
<p><em>mjblenner/ppa-hal</em>**(<a href="https://launchpad.net/~mjblenner/+archive/ubuntu/ppa-hal" target="_blank" rel="noopener">https://launchpad.net/~mjblenner/+archive/ubuntu/ppa-hal</a><br>&lt;<a href="https://launchpad.net/%7Emjblenner/+archive/ubuntu/ppa-hal" target="_blank" rel="noopener">https://launchpad.net/%7Emjblenner/+archive/ubuntu/ppa-hal</a>&gt;),<br>which cointains the last HAL packages.</p>
</blockquote>
<h3 id="Qt5"><a href="#Qt5" class="headerlink" title="Qt5"></a>Qt5</h3><p>ä¸Šé¢æ‰¾åˆ°çš„å›ç­”ä¸­è¿˜æåˆ°ä»5.0ç‰ˆæœ¬å¼€å§‹Virtualboxä»Qt4åº“å‡çº§ä¸ºQt5ï¼Œå› æ­¤è¦å¯¹å®˜æ–¹æä¾›çš„ä¾èµ–è¿›è¡Œä¿®æ”¹ï¼Œæ•´ç†åçš„ä¾èµ–å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gcc g++ bcc iasl xsltproc uuid-dev zlib1g-dev libidl-dev libsdl1.2-dev libxcursor-dev libasound2-dev libstdc++5 libhal-dev libpulse-dev libxml2-dev libxslt1-dev python-dev qt5-default qtdeclarative5-dev qtbase5-dev libcap-dev  libxmu-dev mesa-common-dev libglu1-mesa-dev  linux-kernel-headers libssl-dev libpam0g-dev  libxrandr-dev libxinerama-dev libqt4-opengl-dev makeself  libdevmapper-dev default-jdk  texlive-latex-base  texlive-latex-extra texlive-latex-recommended  texlive-fonts-extra texlive-fonts-recommended  libvpx-dev libopus-dev</span><br><span class="line">sudo apt-get install lib32ncurses5 libc6-dev-i386 lib32gcc1 gcc-multilib  lib32stdc++6 g++-multilib</span><br></pre></td></tr></table></figure>

<p>ç„¶è€Œ<code>./configure</code>ä»¥åç¨‹åºä¸€ç›´å¡åœ¨Qt5æ£€æµ‹å¤„ä¸é€šè¿‡ï¼Œæç¤ºQt5ä¸å­˜åœ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Checking for environment: Determined build machine: linux.amd64, target machine: linux.amd64, OK.</span><br><span class="line">Checking for kBuild: found, OK.</span><br><span class="line">Checking for gcc: found version 5.5.0, OK.</span><br><span class="line">Checking for Open Watcom: </span><br><span class="line">  ** Open Watcom was not found, using alternative BIOS sources!</span><br><span class="line">Checking for iasl: found version 20160108, OK.</span><br><span class="line">Checking for xslt: found, OK.</span><br><span class="line">Checking for pthread: found, OK.</span><br><span class="line">Checking for libxml2: found version 2.9.4, OK.</span><br><span class="line">Checking for libIDL: found version 0.8.14, OK.</span><br><span class="line">Checking for ssl: found version OpenSSL 1.1.1b  26 Feb 2019, OK.</span><br><span class="line">Checking for libcurl: found version 7.47.0, OK.</span><br><span class="line">Checking for libvpx: found version 1.5.0, OK.</span><br><span class="line">Checking for libopus: found, OK.</span><br><span class="line">Checking for zlib: found version 1.2.8, OK.</span><br><span class="line">Checking for libpng: found version 1.2.54, OK.</span><br><span class="line">Checking for SDL: found version 1.2.15, OK.</span><br><span class="line">Checking for X libraries: found, OK.</span><br><span class="line">Checking for Xcursor: found, OK.</span><br><span class="line">Checking for Xinerama: found, OK.</span><br><span class="line">Checking for Xrandr: found, OK.</span><br><span class="line">Checking for Xmu: found, OK.</span><br><span class="line">Checking for Mesa / GLU: found version 1.4, OK.</span><br><span class="line">Checking for Qt5: </span><br><span class="line">  ** qt5 not found!</span><br><span class="line">Check /home/matthew/VBox/VirtualBox-5.2.22/configure.log for details</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹<code>configure.log</code>å‘ç°åœ¨ç‰ˆæœ¬æ£€æµ‹å¤„å‡ºé”™ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Package Qt5Core was <span class="keyword">not</span> found in the pkg-config search path.</span><br><span class="line">Perhaps you should add the directory containing `Qt5Core.pc<span class="number">'</span></span><br><span class="line">to the PKG_CONFIG_PATH environment variable</span><br><span class="line">No package 'Qt5Core' found</span><br><span class="line">(Qt5 from '/usr/lib/qt5')</span><br><span class="line">compiling the following source file:</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QtGlobal&gt;</span></span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> QT_VERSION &gt;= 329216</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">using</span> the following command line:</span><br><span class="line">g++ -fPIC -g -O -Wall -o /home/matthew/VBox/VirtualBox<span class="number">-5.2</span><span class="number">.22</span>/.tmp_out /home/matthew/VBox/VirtualBox<span class="number">-5.2</span><span class="number">.22</span>/.tmp_src.cc  <span class="string">"-L/usr/lib/qt5/lib -lQt5CoreVBox -lpthread -I/usr/lib/qt5/include -I/usr/lib/qt5/include/QtCore -DQT_SHARED -std=c++11"</span></span><br><span class="line">/home/matthew/VBox/VirtualBox<span class="number">-5.2</span><span class="number">.22</span>/.tmp_src.cc:<span class="number">1</span>:<span class="number">20</span>: fatal error: QtGlobal: No such file <span class="keyword">or</span> directory</span><br><span class="line">compilation terminated.</span><br></pre></td></tr></table></figure>

<p>å†åˆ°<code>./configure</code>ä¸­æŸ¥æ‰¾ç›¸å…³ä»£ç </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">check_qt5()</span><br><span class="line">&#123;</span><br><span class="line">foundqt5=</span><br><span class="line">test_header Qt5</span><br><span class="line">cat &gt;  <span class="variable">$ODIR</span>.tmp_src.cc &lt;&lt;  EOF</span><br><span class="line"><span class="comment">#include &lt;QtGlobal&gt;</span></span><br><span class="line">extern <span class="string">"C"</span> int main(void)</span><br><span class="line">&#123;</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">echo</span>  <span class="string">"#if QT_VERSION &gt;= <span class="variable">$(($QT5MAJ*65536+$QT5MIN*256)</span>)"</span>  &gt;&gt;  <span class="variable">$ODIR</span>.tmp_src.cc</span><br><span class="line">cat &gt;&gt;  <span class="variable">$ODIR</span>.tmp_src.cc &lt;&lt;  EOF</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line"><span class="comment">#else</span></span><br><span class="line"><span class="built_in">return</span> 1;</span><br><span class="line"><span class="comment">#endif</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦æ˜¯æ£€æŸ¥ç¯å¢ƒä¸­çš„Qtç‰ˆæœ¬æ˜¯å¦å’Œ<code>$QT5MAJ</code>å’Œ<code>$QT5MIN</code>æ‰€æŒ‡å®šçš„ç‰ˆæœ¬è¦æ–°ï¼Œè€Œè·Ÿè¸ªå‘ç°è¦æ±‚æœ€ä½ç‰ˆæœ¬æ˜¯5.6ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">QT5DIR_PKGCONFIG=1</span><br><span class="line">QT5MAJ=5</span><br><span class="line">QT5MIN=6</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ä¸å¹¸çš„æ˜¯16.04è½¯ä»¶ä»“åº“ä¸Šæä¾›çš„Qtç‰ˆæœ¬æ°å¥½åªæ˜¯5.5ï¼š<br><img src="https://i.loli.net/2019/04/11/5caeb27dbc3d5.png" alt="Package &quot;qtbase5-dev&quot;"><span class="image-caption">Package &quot;qtbase5-dev&quot;</span><br>é‚£ä¹ˆç°åœ¨æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§æ˜¯ç›´æ¥å‡çº§Ubuntuç‰ˆæœ¬åˆ°1804LTSï¼Œè½¯ä»¶ä»“åº“ä¹Ÿéšä¹‹æ›´æ–°ï¼Œèƒ½ç›´æ¥é€šè¿‡<code>apt-get</code>è£…ä¸Šæ–°ç‰ˆæœ¬çš„Qtï¼Œå¦ä¸€ç§æ–¹æ³•å°±æ˜¯æ‰‹åŠ¨å®‰è£…Qtç„¶åconfigureçš„æ—¶å€™æŒ‡å®šQtåº“çš„ç›®å½•ï¼Œå—é™äºç³Ÿç³•çš„ç½‘ç»œç¯å¢ƒï¼Œè¿˜æ˜¯å¯¹ç—‡ä¸‹è¯æ‰‹åŠ¨å®‰è£…æ–°ç‰ˆæœ¬Qtåº“æ¯”è¾ƒå®åœ¨ã€‚Qtåº“å¯ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼Œå…·ä½“æ–¹æ³•ä¸å†èµ˜è¿°ã€‚<br>å®‰è£…å®Œæˆè¿‡åè¿˜éœ€æ›´æ”¹<code>./configure</code>è„šæœ¬çš„1528è¡Œï¼Œæ·»åŠ c++11çš„ç¼–è¯‘å‚æ•°ï¼Œä¿®æ”¹åçš„æŒ‡ä»¤ä¸º<code>FLGQT5=&quot;-DQT_SHARED -std=c++11&quot;</code>ï¼Œä¹‹åæ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --<span class="built_in">disable</span>-hardening --with-qt-dir=/opt/Qt5.9.7/5.9.7/gcc_64 -d --build-libxml2 --<span class="built_in">disable</span>-java</span><br></pre></td></tr></table></figure>

<p>ç»ˆäºé…ç½®æˆåŠŸã€‚</p>
<h3 id="Compiling"><a href="#Compiling" class="headerlink" title="Compiling"></a>Compiling</h3><p>åŠå¤©è¿‡å»ä¾èµ–é—®é¢˜ç»ˆäºè§£å†³äº†ï¼Œæœ¬ä»¥ä¸ºæ¥ä¸‹æ¥å°±æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡æ‰§è¡Œç¼–è¯‘å‘½ä»¤å¤–åŠ æœŸå¾…åœ°æ“æ‰‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ./env.sh</span><br><span class="line">kmk all BUILD_TYPE=debug</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œç¼–è¯‘è¿‡ç¨‹ä¹Ÿä¸ä¼šæ˜¯ä¸€å¸†é£é¡ºï¼Œåœ¨ç¼–è¯‘é©±åŠ¨æ¨¡å—çš„æ—¶å€™äº§ç”Ÿäº†ä»¥ä¸‹é”™è¯¯ï¼š<br><code>/tmp/vbox.0/r0drv/linux/memobj-r0drv-linux.c:1126: error: too many arguments to function &#39;get_user_pages&#39;</code><br>å¥½åœ¨ä¸æ˜¯ä¸ªä¾‹ï¼Œæ—©æœ‰ç”¨æˆ·å¼€äº†ticketæŠ¥å‘Šè¿™ä¸ªé—®é¢˜:<a href="https://www.virtualbox.org/ticket/18315" target="_blank" rel="noopener">Kernel modules do not build with linux kernel 4.4.169 -&gt; fixed after 6.0.4/5.2.26 and in test builds</a>ï¼Œå¼€å‘äººå‘˜çš„å›ç­”æ˜¯ç›´æ¥ä½¿ç”¨æœ€æ–°çš„test buildsæ¥è§£å†³é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯é¢˜ç›®çš„ç¯å¢ƒå¿…é¡»æ˜¯åœ¨5.2.22ç‰ˆæœ¬ä¸‹ï¼Œé‡‡ç”¨æ–°ç‰ˆæœ¬å°±ä¸è¡Œäº†ã€‚åæ¥æœç´¢äº†ticketç›¸å…³çš„patchï¼š<a href="https://www.virtualbox.org/changeset/77464/vbox" target="_blank" rel="noopener"># Changeset 77464 in vbox</a>ï¼Œæ‰‹åŠ¨æ‰“patchä»¥åè¿˜éœ€è¦æŠŠUbuntuçš„å†…æ ¸ä»4.15.xé™çº§ä¸º4.4.xï¼Œç»ˆäºç¼–è¯‘é€šè¿‡ã€‚</p>
<h3 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h3><p>è¿è¡Œçš„æ—¶å€™åŒæ ·éœ€è¦æŒ‡å®šQtåº“æ‰€åœ¨çš„ç›®å½•ï¼Œé€šè¿‡<code>LD_LIBRARY_PATH</code>æ¥åŠ è½½Qtåº“ï¼Œå…·ä½“è¿è¡ŒæŒ‡ä»¤æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">"/opt/Qt5.9.7/5.9.7/gcc_64/lib/"</span>  </span><br><span class="line">./out/linux.amd64/debug/bin/VirtualBox</span><br></pre></td></tr></table></figure>

<p>ç»ˆäºæˆåŠŸçœ‹åˆ°VIrtualboxè¿è¡Œçš„ç•Œé¢<br><img src="https://i.loli.net/2019/04/11/5caebbc7c12fe.png" alt="Virtualbox 5.2.22"><span class="image-caption">Virtualbox 5.2.22</span>éšåå®‰è£…ä¸ŠUbuntuå®¶æ—é‡Œé¢æœ€è½»é‡çº§çš„Lubuntuç³»ç»Ÿï¼Œå¹¶ä¸”åœ¨Guestç«¯è¿›è¡Œä»¥ä¸‹è®¾ç½®æ¥æ–¹ä¾¿è°ƒè¯•ã€‚</p>
<ol>
<li>å®‰è£…Guest Additionsã€‚æ‰§è¡Œ<code>kmk all</code>çš„ç¼–è¯‘å‘½ä»¤çš„æ—¶å€™ä¹Ÿä¼šåŒæ—¶ç”ŸæˆGuest Additionsçš„ISOæ–‡ä»¶ï¼Œè·¯å¾„æ˜¯<code>VirtualBox-5.2.22/out/linux.amd64/debug/bin/additions/VBoxGuestAdditions.iso</code>ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯ä»¥é‡æ–°æ‰§è¡Œ<code>kmk additions-iso</code>å•ç‹¬ç”ŸæˆISOé•œåƒã€‚åŠ è½½åˆ°Guesté‡Œé¢å°±å®Œæˆå®‰è£…äº†ã€‚å¦‚æœè‡ªå·±ç¼–è¯‘çš„ç‰ˆæœ¬å®‰è£…åæœ‰é—®é¢˜ï¼Œæ¯”å¦‚è¯´å‡ºç°æ‰“å¼€3DåŠ é€ŸåŠŸèƒ½ä»¥åç³»ç»Ÿæ— æ³•å¯åŠ¨çš„æƒ…å†µï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹è§£å†³æ–¹æ³•ï¼š<ol>
<li>ä¸‹è½½å®˜æ–¹æä¾›çš„<code>VBoxGuestAdditions.iso</code>å¹¶é‡æ–°å®‰è£…ï¼Œå¯ä»¥å°è¯•æ–°ç‰ˆæœ¬çš„Guest Additionsã€‚</li>
<li>åŠ å¤§è™šæ‹Ÿæœºè®¾ç½®ä¸­çš„æ˜¾å­˜ã€‚</li>
</ol>
</li>
<li>æ·»åŠ å…±äº«æ–‡ä»¶å¤¹ã€‚è¿™æ ·å°±å¯ä»¥åœ¨Hostä¸Šç¼–è¾‘Expè„šæœ¬ç„¶åç›´æ¥åœ¨Guestä¸­è¿è¡Œï¼Œçœå»æ¥å›åŒæ­¥æ—¶é—´ã€‚ç›¸å…³æŒ‡ä»¤ï¼š<code>mount -t vboxsf SharedUbuntu /mnt/UbuntuShare</code></li>
<li>è®¾ç½®NATå¹¶æ‰“å¼€sshå®¢æˆ·ç«¯ã€‚æˆ‘çš„åšæ³•æ˜¯å°†Guestçš„22ç«¯å£æ˜ å°„åˆ°Hostçš„2222ç«¯å£ï¼Œç„¶ååœ¨Hostä¸Šç”¨sshè¿æ¥æœ¬æœº2222ç«¯å£ã€‚è¿™æ ·æ“ä½œå¯ä»¥å®Œå…¨çœå»Guestçš„å›¾å½¢ç•Œé¢ï¼Œå› ä¸ºä½¿ç”¨å›¾å½¢ç•Œé¢å¯ä»¥ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­å¦‚æœåœ¨Guestæ•è·ç”¨æˆ·é¼ æ ‡é”®ç›˜çš„æƒ…å†µä¸‹è§¦å‘äº†æ–­ç‚¹ï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½é™·å…¥å‡æ­»çš„çŠ¶æ€ï¼ŒGuestæ— æ³•é‡Šæ”¾é¼ æ ‡é”®ç›˜ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•åˆ‡æ¢åˆ°Hostçš„gdbç•Œé¢æ‰§è¡ŒcontinueæŒ‡ä»¤ã€‚å¦‚æœé€šè¿‡sshæ¥å¯¹Guestè¿›è¡Œæ“ä½œå°±ä¸å­˜åœ¨ä¸Šè¿°çš„é—®é¢˜äº†ã€‚</li>
</ol>
<p>æœ€åè°ƒè¯•çš„ç•Œé¢å¦‚ä¸‹ï¼Œå·¦è¾¹æ˜¯sshè¿æ¥Virtualboxä¸­çš„è™šæ‹Ÿæœºï¼Œå³è¾¹æ˜¯Hostä¸Šgdb attachä¸Švirtualboxçš„ç›¸åº”è¿›ç¨‹ã€‚å¯ä»¥çœ‹åˆ°åœ¨æ–­ç‚¹å¤„æˆåŠŸæ˜¾ç¤ºç›¸å…³æºç äº†ã€‚<br><img src="https://i.loli.net/2019/04/11/5caf0af2402c6.png" alt="gdb"><span class="image-caption">gdb</span>å½“ç„¶è¿™ä¹Ÿåªæ˜¯å¼€äº†ä¸ªå¤´ï¼Œåé¢çš„å·¥ä½œå¯èƒ½æ›´åŠ æ›²æŠ˜ã€‚</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://www.virtualbox.org/wiki/Linux%20build%20instructions" target="_blank" rel="noopener">https://www.virtualbox.org/wiki/Linux%20build%20instructions</a></li>
<li><a href="https://www.virtualbox.org/pipermail/vbox-dev/2017-February/014282.html" target="_blank" rel="noopener">https://www.virtualbox.org/pipermail/vbox-dev/2017-February/014282.html</a></li>
<li><a href="https://www.virtualbox.org/ticket/18315" target="_blank" rel="noopener">https://www.virtualbox.org/ticket/18315</a></li>
<li><a href="https://www.virtualbox.org/changeset/77464/vbox" target="_blank" rel="noopener">https://www.virtualbox.org/changeset/77464/vbox</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/28/Babayheap-2019/" rel="next" title="[TCTF 2019] Babyheap">
                <i class="fa fa-chevron-left"></i> [TCTF 2019] Babyheap
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/04/Heap-Master-Review/" rel="prev" title="Heap Master Review">
                Heap Master Review <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®éŒ„
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            æœ¬ç«™æ¦‚è¦½
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Matthew Shao">
          <p class="site-author-name" itemprop="name">Matthew Shao</p>
          <p class="site-description motion-element" itemprop="description">ğŸ“</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">65</span>
                <span class="site-state-item-name">æ–‡ç« </span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">åˆ†é¡</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">æ¨™ç±¤</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/MatthewShao" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Hardware-amp-Environment"><span class="nav-number">1.</span> <span class="nav-text">Hardware &amp; Environment</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nested-VM"><span class="nav-number">2.</span> <span class="nav-text">Nested VM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Building-VIrtualbox-with-Debug-Symbols"><span class="nav-number">3.</span> <span class="nav-text">Building VIrtualbox with Debug Symbols</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#â€œlibhal-devâ€-Not-Found"><span class="nav-number">3.1.</span> <span class="nav-text">â€œlibhal-devâ€ Not Found</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Qt5"><span class="nav-number">3.2.</span> <span class="nav-text">Qt5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Compiling"><span class="nav-number">3.3.</span> <span class="nav-text">Compiling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Run"><span class="nav-number">3.4.</span> <span class="nav-text">Run</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-number">4.</span> <span class="nav-text">References</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Matthew Shao</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼·åŠ›é©…å‹•
</div>

<div class="theme-info">
  ä¸»é¡Œ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Logos
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/schemes/logos.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  




  
  

  

  

  

  


</body>
</html>
